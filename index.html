<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Jeu de Plateau</title>
<style>
body { margin:0; font-family:sans-serif; background:#222; color:#fff;}
#plateau { position:relative; width:800px; height:600px; margin:20px auto; background:url('https://raw.githubusercontent.com/stephanelavallee89-crypto/Mon-jeux-/main/20251015_090213_0000.png') no-repeat center/contain; border:2px solid #fff; }
.pion { width:30px; height:30px; border-radius:50%; position:absolute; cursor:pointer; }
#bandeau { width:800px; height:50px; background:#000; margin:10px auto; text-align:center; line-height:50px; font-size:16px; }
#controls { width:800px; margin:10px auto; display:flex; justify-content:space-around; margin-bottom:20px;}
button { padding:10px 20px; font-size:16px; cursor:pointer; }
</style>
</head>
<body>

<div id="plateau"></div>
<div id="bandeau">Choisissez le nombre de joueurs et cliquez Start</div>
<div id="controls">
  <div>
    Nombre de joueurs :
    <select id="nbJoueurs">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3" selected>3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
    </select>
  </div>
  <button id="start">Start</button>
  <button id="lancerDes">Lancer Dé</button>
  <button id="reset">Reset</button>
</div>

<script>
const plateau = document.getElementById('plateau');
const bandeau = document.getElementById('bandeau');
const nbJoueursSelect = document.getElementById('nbJoueurs');
const startBtn = document.getElementById('start');
const lancerDesBtn = document.getElementById('lancerDes');
const resetBtn = document.getElementById('reset');

let nbJoueurs = 3;
let joueurs = [];
let tour = 0;
let jeuCommence = false;

// Coordonnées approximatives mais respectant la disposition réelle du plateau
const cases = [
  {num:1,x:50,y:50,action:"Tout le monde se sert à boire !",popup:"Santé !",son:"https://freesound.org/data/previews/341/341695_6247650-lq.mp3"},
  {num:2,x:150,y:50,action:"Fredonne la chanson que te souffle le joueur à ta droite",popup:"Met l'ambiance !",son:"https://freesound.org/data/previews/341/341698_6247650-lq.mp3"},
  {num:3,x:250,y:50,action:"Embrasse le joueur à ta droite",popup:"Smack",son:"https://freesound.org/data/previews/341/341700_6247650-lq.mp3"},
  {num:4,x:350,y:50,action:"Pose une colle au joueur de ton choix",popup:"Culture G",son:"https://freesound.org/data/previews/341/341702_6247650-lq.mp3"},
  {num:5,x:450,y:50,action:"Tout le monde trinque",popup:"Tchin tchin",son:"https://freesound.org/data/previews/341/341705_6247650-lq.mp3"},
  {num:6,x:550,y:50,action:"Échange un vêtement avec le joueur à ta gauche et faites un selfie",popup:"Échange",son:"https://freesound.org/data/previews/341/341707_6247650-lq.mp3"},
  {num:7,x:650,y:50,action:"Mime ce que te souffle le joueur à ta droite",popup:"Action!",son:"https://freesound.org/data/previews/341/341710_6247650-lq.mp3"},
  {num:8,x:650,y:150,action:"Case 8 action générique",popup:"Action8",son:"https://freesound.org/data/previews/341/341712_6247650-lq.mp3"},
  {num:9,x:550,y:150,action:"Échange ton verre avec le joueur à ta droite",popup:"C'est bon... ou pas !",son:"https://freesound.org/data/previews/341/341715_6247650-lq.mp3"},
  {num:10,x:450,y:150,action:"Désigne ton joueur favoris",popup:"Love",son:"https://freesound.org/data/previews/341/341718_6247650-lq.mp3"},
  {num:11,x:350,y:150,action:"Retour à la case départ !",popup:"AÏE",son:"https://freesound.org/data/previews/341/341720_6247650-lq.mp3"},
  {num:12,x:250,y:150,action:"Dessine ce que te souffle le joueur à ta gauche",popup:"Draw",son:"https://freesound.org/data/previews/341/341723_6247650-lq.mp3"},
  {num:13,x:150,y:150,action:"Pose une colle au joueur de ton choix",popup:"Culture G",son:"https://freesound.org/data/previews/341/341725_6247650-lq.mp3"},
  {num:14,x:50,y:150,action:"Embrasse le joueur à ta gauche",popup:"Smak",son:"https://freesound.org/data/previews/341/341728_6247650-lq.mp3"},
  {num:15,x:50,y:250,action:"Échange un vêtement avec le joueur à ta droite",popup:"Échange",son:"https://freesound.org/data/previews/341/341730_6247650-lq.mp3"},
  {num:16,x:150,y:250,action:"Passe ton tour ! Et bois un coup",popup:"Stop!",son:"https://freesound.org/data/previews/341/341733_6247650-lq.mp3"},
  {num:17,x:250,y:250,action:"Échange ton verre avec le joueur à ta gauche",popup:"C'est bon...ou pas!",son:"https://freesound.org/data/previews/341/341735_6247650-lq.mp3"},
  {num:18,x:350,y:250,action:"Dessine ce que te souffle le joueur à ta droite",popup:"Draw",son:"https://freesound.org/data/previews/341/341738_6247650-lq.mp3"},
  {num:19,x:450,y:250,action:"Avance de trois cases",popup:"Je pense que tu avais soif :)",son:"https://freesound.org/data/previews/341/341740_6247650-lq.mp3"},
  {num:20,x:550,y:250,action:"Fredonne la chanson que te souffle le joueur à ta gauche",popup:"Fredonement",son:"https://freesound.org/data/previews/341/341743_6247650-lq.mp3"},
  {num:21,x:650,y:250,action:"Pose une question osée au joueur de ton choix",popup:"Indiscretions",son:"https://freesound.org/data/previews/341/341745_6247650-lq.mp3"},
  {num:22,x:650,y:350,action:"Cul sec !",popup:"Glou glou",son:"https://freesound.org/data/previews/341/341748_6247650-lq.mp3"},
  {num:23,x:550,y:350,action:"Mime ce que te souffle le joueur à ta gauche",popup:"Action!",son:"https://freesound.org/data/previews/341/341750_6247650-lq.mp3"},
  {num:24,x:450,y:350,action:"Pose une colle au joueur de ton choix",popup:"Culture G",son:"https://freesound.org/data/previews/341/341753_6247650-lq.mp3"},
  {num:25,x:350,y:350,action:"Tu as gagné le droit de demander le service que tu veux",popup:"Winner!!!",son:"https://freesound.org/data/previews/341/341755_6247650-lq.mp3"}
];

// Création des pions
function creerPions(nb){
  plateau.innerHTML = '';
  joueurs = [];
  for(let i=0;i<nb;i++){
    const pion = document.createElement('div');
    pion.className='pion';
    pion.style.background = ['red','blue','green','yellow','purple','orange'][i];
    plateau.appendChild(pion);
    joueurs.push({element:pion, position:1});
    placerPion(i);
  }
}

function placerPion(i){
  const pos = cases[joueurs[i].position-1];
  joueurs[i].element.style.left = pos.x + 'px';
  joueurs[i].element.style.top = pos.y + 'px';
}

function afficherAction(){
  const pos = cases[joueurs[tour].position-1];
  bandeau.innerText = "Joueur "+(tour+1)+" → "+pos.popup + " : " + pos.action;
  const audio = new Audio(pos.son);
  audio.play();
}

// Start
startBtn.onclick = ()=>{
  nbJoueurs = parseInt(nbJoueursSelect.value);
  creerPions(nbJoueurs);
  tour=0;
  jeuCommence=true;
  bandeau.innerText = "Joueur 1 à vous de jouer !";
};

// Lancer Dé
lancerDesBtn.onclick = ()=>{
  if(!jeuCommence) return;
  let valDe = Math.floor(Math.random()*6)+1;
  let joueurCourant = joueurs[tour];
  let newPos = joueurCourant.position + valDe;
  if(newPos>25) newPos=25;
  joueurCourant.position = newPos;

  // Cases spéciales
  if(newPos===11) joueurCourant.position=1;
  if(newPos===19) joueurCourant.position +=3;
  if(joueurCourant.position>25) joueurCourant.position=25;

  placerPion(tour);
  afficherAction();

  // Tour suivant
  tour = (tour+1)%nbJoueurs;
};

// Reset
resetBtn.onclick = ()=>{
  plateau.innerHTML='';
  bandeau.innerText = "Choisissez le nombre de joueurs et cliquez Start";
  jeuCommence=false;
  joueurs=[];
};
</script>

</body>
</html>
