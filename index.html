<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Jeu Spirale</title>
<style>
  body { margin:0; font-family:sans-serif; background:#222; color:#fff; display:flex; flex-direction:column; align-items:center;}
  #plateau-container { position: relative; margin-top:20px;}
  #plateau { display:block; max-width:100%; }
  .pion { position:absolute; width:30px; height:30px; border-radius:50%; display:flex; justify-content:center; align-items:center; font-size:18px; color:#fff; font-weight:bold; }
  #bandeau { margin-top:10px; background:#000; padding:10px; width:90%; min-height:50px; text-align:center; font-size:18px;}
  #controls { margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; justify-content:center; align-items:center;}
  button { padding:10px; font-size:16px;}
  #de-score, #tour-joueur { font-size:16px; margin-left:10px;}
</style>
</head>
<body>

<h1>Jeu Spirale</h1>

<div id="plateau-container">
  <img id="plateau" src="https://raw.githubusercontent.com/stephanelavallee89-crypto/Mon-jeux-/main/plateau%20jeux.jpg" alt="Plateau">
</div>

<div id="bandeau">Cliquez sur Start pour commencer</div>

<div id="controls">
  <button id="start-btn">Start</button>
  <button id="reset-btn">Reset</button>
  <button id="volume-btn">ðŸ”Š</button>
  <label>Joueurs:
    <select id="nb-joueurs">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
    </select>
  </label>
  <button id="lancer-de">Lancer le dÃ©</button>
  <span id="de-score"></span>
  <span id="tour-joueur"></span>
</div>

<script>
// DÃ©finition des cases (coordonnÃ©es approximatives, Ã  ajuster selon ton image)
const cases = [
  {x:50, y:50},   //1
  {x:150, y:50},  //2
  {x:250, y:50},  //3
  {x:350, y:50},  //4
  {x:450, y:50},  //5
  {x:450, y:150}, //6
  {x:450, y:250}, //7
  {x:450, y:350}, //8
  {x:450, y:450}, //9
  {x:350, y:450}, //10
  {x:250, y:450}, //11
  {x:150, y:450}, //12
  {x:50, y:450},  //13
  {x:50, y:350},  //14
  {x:50, y:250},  //15
  {x:150, y:150}, //16
  {x:150, y:250}, //17
  {x:250, y:250}, //18
  {x:350, y:150}, //19
  {x:350, y:250}, //20
  {x:250, y:150}, //21
  {x:150, y:350}, //22
  {x:250, y:350}, //23
  {x:350, y:350}, //24
  {x:250, y:250}  //25
];

const actions = [
  {action:"Tout le monde se sert Ã  boire !", popup:"santÃ© !", son:"verre qui trinquent"},
  {action:"Fredonne la chanson Ã  ta droite si les autres joueurs ne trouvent pas tu bois :)", popup:"Met l'ambiance !", son:"ambiance"},
  {action:"Embrasse le joueur Ã  ta droite", popup:"smack", son:"son bisous"},
  {action:"Pose une colle au joueur de ton choix s'il perd il boit sinon c'est toi ;)", popup:"Culture G", son:"son ambiance"},
  {action:"Tout le monde trinque", popup:"tchin tchin", son:"verre qui trinquent"},
  {action:"Echange un vÃªtement avec le joueur Ã  ta gauche et faites un selfie", popup:"Echange", son:"son ambiance"},
  {action:"Mime ce que te souffle le joueur de droite, sinon tu bois ;)", popup:"Action!", son:"clap de cinÃ©ma"},
  {action:"", popup:"", son:""},
  {action:"Echange ton verre avec le joueur Ã  ta droite", popup:"C'est bon... ou pas !", son:"lounge bar"},
  {action:"DÃ©signe ton joueur favoris", popup:"Love", son:"son romantic"},
  {action:"Retour Ã  la case dÃ©part !", popup:"AÃE", son:"son de chute"},
  {action:"Dessine ce que te souffle le joueur Ã  ta gauche si les autres joueurs ne trouvent pas tu bois !", popup:"Draw", son:"son ambiance"},
  {action:"Pose une colle au joueur de ton choix si il perd il boit sinon c'est toi ;)", popup:"Culture g", son:"son ambiance"},
  {action:"Embrasse le joueur Ã  ta gauche", popup:"Smak", son:"son bisous"},
  {action:"Echange un vÃªtement avec le joueur Ã  ta droite et faites un selfie", popup:"Echange", son:"son ambiance"},
  {action:"Passe ton tour ! Et bois un coup tant qu'Ã  faire :)", popup:"stop!", son:"son de frein"},
  {action:"Echange ton verre avec le joueur Ã  ta gauche", popup:"C'est bon... ou pas!", son:"lounge bar"},
  {action:"Dessine ce que te souffle le joueur Ã  ta droite si les autres joueurs ne trouvent pas tu bois !", popup:"Draw", son:"son ambiance"},
  {action:"avance de trois cases ... je pense que tu avais soif :)", popup:"tchou tchou glou glou", son:"sifflement train"},
  {action:"Fredonne la chanson que te souffle le joueur Ã  ta gauche si les autres joueurs ne trouvent pas tu bois :)", popup:"Met l'ambiance !", son:"fredonement"},
  {action:"Pose une question osÃ©e au joueur de ton choix s'il ne rÃ©pond pas il boit", popup:"IndiscrÃ©tions", son:"son coquin"},
  {action:"Cul sec !", popup:"glou glou", son:"son bouteille qui se vide glou glou"},
  {action:"Mime ce que te souffle le joueur Ã  ta gauche si les autres joueurs ne trouvent pas tu bois ;)", popup:"Action!", son:"son clap de cinÃ©ma"},
  {action:"Pose une colle au joueur de ton choix si il perd il boit sinon c'est toi ;)", popup:"Culture g", son:"son ambiance"},
  {action:"Tu as gagnÃ© le droit de demander le service que tu veux au joueur de ton choix", popup:"winner!!!", son:"son vainqueur trophÃ©e"}
];

let joueurs = [];
let nbJoueurs = 1;
let tour = 0;
let deScore = 0;

const plateauContainer = document.getElementById("plateau-container");
const bandeau = document.getElementById("bandeau");
const startBtn = document.getElementById("start-btn");
const resetBtn = document.getElementById("reset-btn");
const volumeBtn = document.getElementById("volume-btn");
const nbJoueursSelect = document.getElementById("nb-joueurs");
const lancerDeBtn = document.getElementById("lancer-de");
const deScoreSpan = document.getElementById("de-score");
const tourJoueurSpan = document.getElementById("tour-joueur");

function initJoueurs(){
  joueurs.forEach(p=>p.elem.remove());
  joueurs = [];
  nbJoueurs = parseInt(nbJoueursSelect.value);
  for(let i=0;i<nbJoueurs;i++){
    const div = document.createElement("div");
    div.className="pion";
    div.style.background=["red","blue","green","yellow","orange","purple"][i];
    div.textContent=i+1;
    plateauContainer.appendChild(div);
    joueurs.push({elem:div, position:0});
  }
  tour = 0;
  deScore = 0;
  deScoreSpan.textContent="";
  tourJoueurSpan.textContent="Tour du joueur "+(tour+1);
  afficherCase(0);
}

function afficherCase(idx){
  bandeau.textContent=actions[idx].action;
  const popup = document.createElement("div");
  popup.textContent=actions[idx].popup;
  popup.style.position="absolute";
  popup.style.left=(cases[idx].x+20)+"px";
  popup.style.top=(cases[idx].y-40)+"px";
  popup.style.background="#fff";
  popup.style.color="#000";
  popup.style.padding="5px 10px";
  popup.style.borderRadius="5px";
  plateauContainer.appendChild(popup);
  setTimeout(()=>popup.remove(),3000);
  // Son Ã  ajouter si fichiers audio disponibles
}

function movePion(joueur, steps){
  let pos = joueurs[joueur].position;
  pos += steps;
  if(pos>=25) pos=24;
  // DÃ©placements spÃ©ciaux
  if(pos==18) pos+=3; // case 19
  if(pos==10) pos=0; // case 11
  joueurs[joueur].position=pos;
  const c = cases[pos];
  joueurs[joueur].elem.style.left=c.x+"px";
  joueurs[joueur].elem.style.top=c.y+"px";
  afficherCase(pos);
  tour = (tour+1)%nbJoueurs;
  tourJoueurSpan.textContent="Tour du joueur "+(tour+1);
}

startBtn.onclick=initJoueurs;
resetBtn.onclick=()=>initJoueurs();
lancerDeBtn.onclick=()=>{
  deScore=Math.floor(Math.random()*6)+1;
  deScoreSpan.textContent="DÃ© : "+deScore;
  movePion(tour,deScore);
};
</script>

</body>
</html>
